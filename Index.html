<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Vue + Bootstrap Translation Demo</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }

        .card {
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }

        .card.is-translated {
            border-left: 4px solid #0d6efd;
        }

        .translation-spinner {
            width: 1rem;
            height: 1rem;
        }

        .badge-github {
            background-color: #24292e;
            color: white;
        }
    </style>
</head>

<body>
    <div id="app" class="container py-5">
        <header class="mb-4 d-flex justify-content-between align-items-center">
            <div>
                <h1 class="h3 mb-1">Project Roadmap</h1>
                <p class="text-muted">Demonstrating Headless Translation in a Vue SPA</p>
            </div>
            <div class="dropdown">
                <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                    Language: {{ currentLocaleName }}
                </button>
                <ul class="dropdown-menu">
                    <li><a @click.prevent="setLanguage('en')" class="dropdown-item" href="#">ðŸ‡ºðŸ‡¸ English</a></li>
                    <li><a @click.prevent="setLanguage('es')" class="dropdown-item" href="#">ðŸ‡ªðŸ‡¸ Spanish</a></li>
                    <li><a @click.prevent="setLanguage('fr')" class="dropdown-item" href="#">ðŸ‡«ðŸ‡· French</a></li>
                    <li><a @click.prevent="setLanguage('pt')" class="dropdown-item" href="#">ðŸ‡µðŸ‡¹ Portuguese</a></li>
                    <li><a @click.prevent="setLanguage('pl')" class="dropdown-item" href="#">ðŸ‡µðŸ‡± Polish</a></li>
                </ul>
            </div>
        </header>

        <div class="row">
            <!-- Task List -->
            <div class="col-md-8">
                <div v-for="task in tasks" :key="task.id" class="card mb-3"
                    :class="{'is-translated': task.isTranslated}" :data-id="task.id" ref="taskCards">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title h6 mb-0" :class="{'text-primary': task.isTranslated}">
                                {{ task.title }}
                            </h5>
                            <span v-if="task.isTranslating"
                                class="spinner-border translation-spinner text-primary"></span>
                            <span v-else-if="task.isTranslated"
                                class="badge bg-primary-subtle text-primary border border-primary-subtle">
                                Translated
                            </span>
                        </div>
                        <p class="card-text text-secondary mb-2" :class="{'fst-italic': task.isTranslated}">
                            {{ task.description }}
                        </p>

                        <!-- Actions -->
                        <div class="d-flex gap-2 align-items-center mt-3">
                            <button class="btn btn-sm btn-light border text-nowrap">View Details</button>
                            <div v-if="task.links && task.links.length"
                                class="flex-grow-1 overflow-hidden d-flex gap-1">
                                <a v-for="link in task.links" :href="link.url" target="_blank"
                                    class="badge rounded-pill text-decoration-none"
                                    :class="link.isTrusted ? 'bg-info-subtle text-info border border-info-subtle' : 'bg-danger-subtle text-danger border border-danger-subtle'">
                                    {{ link.label }}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats/Controls Sidebar -->
            <div class="col-md-4">
                <div class="card bg-white p-3 mb-4">
                    <h2 class="h6 text-uppercase fw-bold text-muted mb-3">Statistics</h2>
                    <ul class="list-unstyled mb-0">
                        <li class="d-flex justify-content-between mb-2">
                            <span>Total Tasks:</span>
                            <span class="fw-bold">{{ tasks.length }}</span>
                        </li>
                        <li class="d-flex justify-content-between mb-2">
                            <span>Translated:</span>
                            <span class="fw-bold">{{ translatedCount }}</span>
                        </li>
                        <li class="d-flex justify-content-between">
                            <span>Pending:</span>
                            <span class="fw-bold text-warning">{{ pendingCount }}</span>
                        </li>
                    </ul>
                </div>

                <div class="card bg-primary text-white p-3">
                    <h2 class="h6 fw-bold mb-2">How it works</h2>
                    <p class="small mb-0 opacity-75">
                        The <strong>TranslationManager</strong> is running in "Headless Mode".
                        It watches the viewport and tells Vue which items to translate,
                        honoring Google Apps Script quotas and limits.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Frameworks -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- CLIENT_CODE_START -->
    <!-- CLIENT_CODE_END -->
</body>

</html>
